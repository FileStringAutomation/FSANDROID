*** Settings ***
Resource          ../../Variables/Variables.txt
Library           AppiumLibrary

*** Keywords ***
fsand_Open File String Application
    Open Application    http://localhost:4723/wd/hub

fsand_Close What's New
    ${v_result}=    Run Keyword And Ignore Error    AppiumLibrary.Click Element    ${Home_Back}
    Run Keyword If    '${v_result[0]}'=='FAIL'    Fail    Can not close What's New

fsand_Change Environment
    [Arguments]    ${v_environment}
    [Documentation]    name=Production|Staging|Development
    ${v_trueOrFalse}=    Run Keyword And Ignore Error    AppiumLibrary.Input Password    ${SignIn_Password}    opensesame
    Run Keyword If    '${v_trueOrFalse[0]}'=='FAIL'    Fail    Can't input to Password at Sign
    AppiumLibrary.Click Element    name=${v_environment}
    AppiumLibrary.Click Element    ${OK_Button}
    Comment    AppiumLibrary.Input Password    ${SignIn_Password}    opensesame

fsand_Click Positive Button
    AppiumLibrary.Click Element    ${OK_Button}

fsand_Click Negative Button
    AppiumLibrary.Click Element    ${Resend_Email_ButtonById}

fsand_Click Back
    ${v_result}=    Run Keyword And Ignore Error    AppiumLibrary.Click Element    ${Home_Back}
    Run Keyword If    '${v_result[0]}'=='FAIL'    Fail    Can not close What's New

fsand_Click Home
    AppiumLibrary.Click Element    ${Home_Logo}

fsand_Click Navigate Sign In To Sign Up Screen
    AppiumLibrary.Click Element    ${SignIn_SignUp}

fsand_Verify Sign In Screen
    AppiumLibrary.Wait Until Page Contains    ${Verify_SignIn_Form}    30s

fsand_Verify All Files Screen
    AppiumLibrary.Wait Until Page Contains    ${Verify_AllFiles_Screen}    30s

fsand_Click Close Button
    AppiumLibrary.Click Element    ${Close_ButtonByText}

fsand_Open Navigation Bar From Home Screen
    AppiumLibrary.Click Element    ${Home_Logo}

fsand_Open User Info Screen
    fsand_Open Navigation Bar From Home Screen
    AppiumLibrary.Click Element    ${NavigationBar_Username}

fsand_Open Change Password Screen
    fsand_Open User Info Screen
    AppiumLibrary.Click Element    ${UserInfo_Change_Pasword}

fsand_Change Password On Android
    [Arguments]    ${v_currentPassword}    ${v_newPassword}
    fsand_Open Change Password Screen
    Input Password    ${ChangePassword_Current_Password}    ${v_currentPassword}
    Input Password    ${ChangePassword_New_Password}    ${v_newPassword}
    Input Password    ${ChangePassword_Confirm_Password}    ${v_newPassword}
    Click Element    ${ChangePassword_Save_Button}

fsand_Click Sign Out
    Click Element    ${UserInfo_Sign_Out}
